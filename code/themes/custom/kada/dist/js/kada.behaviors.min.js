!function(e){Drupal.theme.prototype.kadaExampleButton=function(i,a){return e('<a href="'+i+'" title="'+a+'">'+a+"</a>")},Drupal.behaviors.kadaMasonry={attach:function(i){e(".liftup-box-list",i).each(function(i,a){var t=e(a);e(window).load(function(){t.once("kada-masonry",function(){var i=new Masonry(t[0],{columnWidth:".liftup-box",itemSelector:".liftup-box"}),a=t.parents(".quicktabs-tabpage:first");if(1===a.length){var s=a.attr("id").replace(/tabpage/,"tab");e("#"+s).bind("click",function(){imagesLoaded(a,function(){i.layout()})})}e(".font-zoom-level-changer span").click(function(){i.layout()})})})})}},Drupal.behaviors.kadaQuicktabs={attach:function(){e(".quicktabs-wrapper").once("quicktabs-behavior",function(){0===e(this).find(".quicktabs-tabs > li:not(.qt-hidden)").length&&e(this).addClass("quicktabs-empty")})}};var i=function(){if(!e(this).data("mobile-menu-initialized")){e(this).find("div.responsified li.is-expanded").each(function(){e(this).hasClass("is-active-trail")||(e(this).removeClass("is-expanded"),e(this).addClass("is-collapsed")),e(this).hasClass("is-active-trail")&&e(this).children("ul.menu").addClass("is-visible")});e(this).find("div.responsified li .menu").each(function(){e(this).hasClass("is-visible")||e(this).addClass("is-hidden")});var i=e("div.l-navigation").find("div.responsive-menus");e(".toggler").on("click.responsive-menu-toggle",function(){var a=e(this).parents(".responsive-menus:first");i.not(a).removeClass("responsive-toggled"),e(".recommended-block.is-visible").removeClass("is-visible")}),e("span.menu__item--expanded-toggle").on("click.submenu-toggle",function(i){i.preventDefault(),i.stopPropagation(),e(this).siblings("ul.menu").toggleClass("is-visible is-hidden"),e(this).parent().toggleClass("is-expanded is-collapsed")}),e(this).data("mobile-menu-initialized",!0)}},a=function(){if(e(this).data("mobile-menu-initialized")){e(this).find("div.responsive-toggled").length&&e(this).find("div.responsive-toggled > .toggler").trigger("click"),e(this).find("li.is-expanded:not(.is-active-trail)").toggleClass("is-expanded is-collapsed").find("ul.menu.is-visible").toggleClass("is-visible is-hidden"),e(this).find("li.menu__item--first-level.is-collapsed").toggleClass("is-expanded is-collapsed"),e(this).find("span.menu__item--expanded-toggle").off("click.submenu-toggle"),e(this).find(".toggler").off("click.responsive-menu-toggle");e(this).find("div.responsive-menus li .menu").each(function(){e(this).hasClass("is-visible")||e(this).removeClass("is-hidden")});e(this).find("div.responsive-menus li.is-expanded").each(function(){e(this).hasClass("is-active-trail")||(e(this).addClass("is-expanded"),e(this).removeClass("is-collapsed")),e(this).hasClass("is-active-trail")&&e(this).children("ul.menu").removeClass("is-visible")}),e(this).data("mobile-menu-initialized",!1)}},t=function(t){var s=e(".l-region--navigation .block--menu-block",t);e(window).width()>="946"?a.call(s):i.call(s)};if(Drupal.behaviors.kadaMainMenuBehavior={attach:function(e){t(e)}},Drupal.behaviors.kadaEqualHeightsBehavior={attach:function(i){e(window).load(function(){function a(){!1!==s&&(t(i),e(window).width()>="946"&&e(".l-footer .menu-block-wrapper > .menu").each(function(){var i=0;e(".menu__item--first-level",this).each(function(){e(this).height()>i&&(i=e(this).height())}),e(".menu__item--first-level",this).height(i)}),e(".l-region--navigation .menu__item--first-level.is-active-trail").hover(function(){var i=e(this).find("> .menu"),a=i.find("li.is-active-trail > .menu"),t=0,s=i.outerHeight(),n=a.outerHeight();e(window).width()>="946"&&(t=s>n?s:n,i.css("height",t),a.css("height",t))}),e(".l-region--navigation .menu__item--second-level").hover(function(){var i=e(this).parent(),a=e(this).find("> .menu"),t=0,s=i.outerHeight(),n=a.outerHeight();e(window).width()>="946"&&(t=n>s?n:s,a.css("height",t),i.css("height",t))}),e(window).width()>="946"&&e(".l-region--navigation .menu").css("height",""),e(".l-region--navigation .menu__item--first-level:not(.is-active-trail) .menu__item--second-level").hover(function(i){var a=e(this).parent(),t=a.find("> .menu");"mouseleave"===i.type&&(a.css("height",""),t.css("height",""))}),e(".l-region--navigation .menu__item--first-level.is-active .menu__item--second-level").hover(function(i){var a=e(this).parent(),t=a.find("> .menu");"mouseleave"===i.type&&(a.css("height",""),t.css("height",""))}),s=!1)}var s=!0;setInterval(function(){s=!0},33),e(window).resize(a),a()})}},Drupal.behaviors.kadaToolsToggle={attach:function(i){e(".toggle-tools",i).once("tools-toggle",function(){e(this).click(function(){e(this).parent().toggleClass("open")})})}},Drupal.behaviors.kadaTopMenuMobile={attach:function(i){e(".responsive-menus-0-0 > ul.menu",i).once("top-menu-mobile",function(){e(this).append(e(".l-region--navigation-top ul.menu > li").clone().addClass("menu__item--top-menu")),e(this).find(".menu__item--first-level > ul.menu").each(function(){var i=e(this),a=i.find(".menu__item--e-service a");if(a.parent().remove(),a.length){var t=e('<li class="e-service-wrapper"></li>').append(a);i.append(t)}})})}},Drupal.behaviors.kadaFontZoom={attach:function(){var i=[];e(".font-zoom-level-changer span").each(function(e,a){var t=a.className.match(/font-zoom-level--[a-z]+/);t&&i.push(t[0])});var a=localStorage["chosen.font.level"];if(a){var t=".font-zoom-level-changer span."+a;e("body").removeClass(i.join(" ")).addClass(a),e(".font-zoom-level-changer span.is-active").removeClass("is-active"),e(t).addClass("is-active")}e(".font-zoom-level-changer span").click(function(){e("body").removeClass(i.join(" ")).addClass(e(this).attr("class")),e(this).siblings().removeClass("is-active"),e(this).addClass("is-active"),localStorage["chosen.font.level"]=e(this).attr("class").split(" ")[0]})}},Drupal.behaviors.kadaLanguageSwitcher={attach:function(){e(".block--locale-language").once("language-switcher",function(){e(this).find(".menu--language-switcher").before('<span class="language-select">'+e(this).find(".menu__link.active").text()+"</span>"),e(this).find(".toggler").text(e(this).find(".menu__link.active").text()),e(function(){e(".language-select").click(function(){e(".menu--language-switcher").toggleClass("is-visible"),e(this).toggleClass("is-open")}),e(".menu--language-switcher a").click(function(){e(".language-select").text(e(this).text()),e(".block--locale-language .toggler").text(e(this).text()),e(".language-select").toggleClass("is-open"),e(".menu--language-switcher").toggleClass("is-visible")})})})}},Drupal.behaviors.kadaRecommendedToggle={attach:function(){e(".recommended-button, .recommended-block__close").once("recommended-toggle",function(){e(this).click(function(){e(".recommended-block").toggleClass("is-visible"),e(".responsive-menus.responsive-toggled")&&e(".responsive-menus.responsive-toggled").removeClass("responsive-toggled")})})}},Drupal.behaviors.kadaTableMobilize={attach:function(i){e(".node table",i).once("table-mobilize",function(){var i=e(this);i.find("thead th").each(function(a,t){var s=e(t).text();i.find("tbody tr td:nth-child("+(a+1)+")").attr("data-title",s)}),0!==i.find("thead").length?e(this).addClass("has-table-header"):e(this).addClass("has-no-table-header")})}},Drupal.behaviors.kadaEnhanceTaxonomyTermReferenceField={attach:function(i){e(".field-type-taxonomy-term-reference .form-type-checkboxes",i).once("enhance-taxonomy-term-reference-field",function(){function i(a){e(a).find(".taxonomy-level").filter(function(i,t){return e(t).data("taxonomy-level")>e(a).data("taxonomy-level")}).each(function(){e(this).append(e(this).nextUntil(".taxonomy-level-"+e(this).data("taxonomy-level"))),i(e(this))})}e(this).data({"taxonomy-level":-1}),i(e(this))})}},Drupal.behaviors.kadaEnhanceCheckboxes={attach:function(i){e(".form-type-checkbox",i).once("enhance-checkboxes",function(){var i=function(){e(this).is(":checked")?e(this).parent().addClass("is-checked"):e(this).parent().removeClass("is-checked")};e(this).find(".description").length&&e(this).addClass("has-description"),e(this).find(".form-checkbox").on("change",i).each(i)})}},Drupal.behaviors.kadaEnhanceRadioButtons={attach:function(i){e(".form-type-radio, .range-of-repeat .form-radios > div",i).once("enhance-radio-buttons",function(){var i=function(){e(this).is(":checked")&&(e(this).parent().addClass("is-checked"),e(this).parent().siblings(".is-checked").removeClass("is-checked"))};e(this).find(".description").length&&e(this).addClass("has-description"),e(this).find(".form-radio").on("change",i).each(i)})}},Drupal.behaviors.kadaEnhanceRangeOfRepeat={attach:function(i){e(".range-of-repeat .form-radios > div",i).once("enhance-range-of-repeat",function(){var i=e(this).find(".form-radio");e(this).find(".form-text").on("focus",function(){i.not(":checked")&&i.click()})})}},Drupal.behaviors.kadaExternalEventForm={attach:function(i){e(".l-content > .event-node-form, .l-content > .tkufi-event-ext-event-translations-form",i).once("external-event-form",function(){var i=[],a=e(this).find(".field-name-field-event-types");a.find(".taxonomy-level-0 > .form-type-checkbox > .form-checkbox").each(function(){e(this).on("click.event-hobby-mutex",function(){e(this).parent().parent().siblings().find(".is-checked > input").each(function(){e(this).prop("checked",!1).parent().removeClass("is-checked")})})}),a.find(".taxonomy-level-1 > .form-type-checkbox > .form-checkbox").each(function(){e(this).on("click.limit-selection",function(){if(e(this).is(":checked"))if(i.length<3)i.push(this.id);else{var a=i.shift();e("#"+a).prop("checked",!1).parent().removeClass("is-checked"),e("#"+a).parent().parent().find(".taxonomy-level-2 .is-checked > input").each(function(){e(this).prop("checked",!1).parent().removeClass("is-checked")}),i.push(this.id)}else i.splice(i.indexOf(this.id),1),e("#"+this.id).parent().parent().find(".taxonomy-level-2 .is-checked > input").each(function(){e(this).prop("checked",!1).parent().removeClass("is-checked")})})})})}},Drupal.behaviors.kadaQuickSearchToggle={attach:function(i){e(".block--tkufi-search-feature-quicksearch",i).once("quick-search-toggle",function(){var i=Drupal.t("Search the entire web service"),a=Drupal.t("Show quick search");e(this).find(".form-text").prop("placeholder",i),e(this).addClass("is-collapsed has-animated-height");var t=e("<div></div>").addClass("quick-search-toggler").prop("title",a),s=function(){e(".block--tkufi-search-feature-quicksearch").toggleClass("is-collapsed"),e(".block--tkufi-search-feature-quicksearch").hasClass("is-collapsed")||e(".block--tkufi-search-feature-quicksearch .form-text").focus()};t.on("click",s),e(".l-region--navigation").prepend(t)}),e(".block--tkufi-search-feature-quicksearch--2",i).once("quick-search-toggle",function(){var i=Drupal.t("Search the entire web service");e(this).find(".form-text").prop("placeholder",i)})}},Drupal.behaviors.kadaNewsArchiveLink={attach:function(i){e(".quicktabs-news-archive-link",i).once("news-archive-link",function(){e(this).removeClass("quicktabs-news-archive-link").unbind("click").parent().addClass("quicktabs-news-archive-link")})}},void 0!==Drupal.behaviors.openlayers){var s,n,l=Drupal.behaviors.openlayers.attach;"function"==typeof l&&(Drupal.behaviors.openlayers.attach=function(i,a){s=i,n=a,e(".openlayers-map").parents(".event-tab-event_map.is-collapsed").length||l(i,a)})}Drupal.behaviors.kadaEventTabs={attach:function(i){e(".event-tabs-wrapper",i).once("event-tabs",function(){e(".quicktabs-tabs li a").on("click.change-tab",function(){var i=e(this).parent(),a=e(e(this).data("target"));i.hasClass("active")||(i.siblings(".active").removeClass("active"),i.addClass("active"),a.siblings(".is-expanded").removeClass("is-expanded").addClass("is-collapsed"),a.removeClass("is-collapsed").addClass("is-expanded")),e(this).hasClass("event_map")&&e(".event-tab-event_map .openlayers-map").once("quicktabs-openlayers-init",function(){l(s,n)})})})}},void 0!==Drupal.search_api_ajax&&(Drupal.search_api_ajax.urlToState=function(i){var a=Drupal.search_api_ajax.getUrlState(i),t=i.split("?"),s=Drupal.search_api_ajax.readUrl(t[0]);void 0!==s&&""!==s&&(a.path=decodeURIComponent(s)),a.path||(a.path="_"),e.bbq.pushState(a,2)}),Drupal.behaviors.kadaEventFilters={attach:function(i){e(".l-filters",i).each(function(){var a="object"==typeof i,t=-1!==window.location.hash.indexOf("#path=");if(!a||!t){var s=e(this),n=e(".l-filter-stage"),l=s.find(".filter"),o=function(){e(".l-filters, .event-tabs-wrapper .quicktabs_main").addClass("ajax-is-loading")},c=function(){e(".l-filters, .event-tabs-wrapper .quicktabs_main").removeClass("ajax-is-loading")};e(document).ajaxStart(o),e(document).ajaxStop(c);var r=function(e){s.data("current_facet","."+e)},d=function(){s.data("current_facet",!1)},h=function(){var i={facet:e(this),facetFilter:e(this).nextAll(".filter__content").filter(":first"),facetState:e(this).find(".filter__state .state"),facetName:e(this).attr("class").split(" ").filter(function(e){return 0===e.indexOf("filter--")})[0]};n.append(i.facetFilter),i.facetFilter.hide(),i.facetFilter.find(".facetapi-facetapi-calendar-links .leaf").hide(),b(i),k(i),s.data("current_facet")&&i.facet.is(s.data("current_facet"))&&v(i)},f=!1;e(window).off("scroll.flexslidersPaused"),e(window).on("scroll.flexslidersPaused",function(){e(window).scrollTop()<=e("#flexslider-1").offset().top?f&&!s.data("current_facet")&&u():e(window).scrollTop()>e("#flexslider-1").offset().top+e("#flexslider-1").height()&&p()});var p=function(){if(!f){void 0!==e(".flexslider").flexslider&&(e(".flexslider").flexslider("pause"),f=!0)}},u=function(){e(".flexslider").flexslider("play"),f=!1},v=function(e){p(),m(),r(e.facetName),e.facet.addClass("is-expanded").removeClass("is-collapsed"),e.facetFilter.show()},g=function(e){e.facet.removeClass("is-expanded").addClass("is-collapsed"),e.facetFilter.hide(),d()},m=function(){l.each(function(){e(this).trigger("closeFilter")})},b=function(i){var a=i.facetFilter.find("a.facetapi-active");e.each(a,function(){var a=e("<span></span>"),t=e(this);a.text(t.find(".facet__title").text()).on("click",function(){t.click()}).appendTo(i.facetState),i.facet.addClass("has-state")})},k=function(e){e.facet.find(".filter__toggle").off("click.filter-toggle").on("click.filter-toggle",function(){e.facet.hasClass("is-collapsed")?v(e):g(e)}),e.facet.on("openFilter",function(){v(e)}),e.facet.on("closeFilter",function(){g(e)}),e.facetFilter.find(".close").on("click.filter-content-close",function(){g(e)})};s.find("a.facetapi-active").length&&e(".event-tab-event_mosaic").hasClass("is-expanded")&&e(".event-tabs-wrapper .quicktabs-tabs li:first").next().find("a").trigger("click"),l.filter(":first").addClass("first"),l.filter(":last").addClass("last"),l.each(h)}})}},Drupal.behaviors.kadaEventQuicksearch={attach:function(i){e(".turkucalendar .l-navigation-top",i).once("event-quick-search",function(){var i=Drupal.t("Search from events and hobbies"),a=e(this).find("#block-tkufi-events-base-feature-eventsearch");a.find(".form-text").prop("placeholder",i),e(this).find("#block-locale-language").insertAfter(a),e(this).find(".font-zoom-level-changer").insertAfter(a)})}},Drupal.behaviors.kadaEventFooter={attach:function(i){e(".turkucalendar .l-footer",i).once("event-footer",function(){var i=e('<div class="menu__item--event-add"></div>'),a=e(".l-header .menu__item--event-add > a").clone();i.append(a),e(this).find(".section-footer--item:nth-child(3) .field-content").prepend(i);var t=e(".l-header .site-name > a:first").clone();e(this).find(".section-footer--item:first .field-content").prepend(t);var s=e('<div class="l-after-footer"></div>');s.append(e(this).find(".section-footer--item").filter(function(e){return e>=3})),e(this).find(".l-after-footer-wrapper").append(s)})}},Drupal.behaviors.kadaSectionFooterContactInfo={attach:function(i){e(".l-region--footer",i).once("section-footer-contact-info",function(){var i=e(this).find(".contact-information"),a=i.parent().parent();e(this).find(".section-footer--item:first").append(i),a.remove()})}},Drupal.behaviors.kadaSearchFiltersMobile={attach:function(i){var a=[".page-search .l-region--sidebar-first",".page-event-search .l-region--sidebar-first",".page-services-map .l-region--sidebar-first"],t=a.join(", ");e(t,i).once("search-filters-mobile",function(){var i=e(this),a=e('<div class="search-toggle-filters is-hidden">'+Drupal.t("Show filters")+"</div>");i.before(a),i.find(".block--facetapi .block__title").each(function(){e(this).append('<span class="search-toggle-single-filter is-hidden"></span>')});var t=e(".search-toggle-single-filter");a.click(function(){i.toggleClass("is-hidden").toggleClass("is-visible"),a.toggleClass("open"),a.hasClass("open")?a.text(Drupal.t("Hide filters")):a.text(Drupal.t("Show filters"))}),t.click(function(){var i=e(this).parentsUntil(".l-region");e(this).toggleClass("open"),i.children(".block__content").toggleClass("is-hidden")}),e(window).load(function(){function s(){!1!==n&&(e(window).width()<="768"&&(i.addClass("is-hidden"),!1===l&&(i.find(".block--facetapi").each(function(){e(this).find(".block__content").addClass("is-hidden")}),l=!0),a.removeClass("is-hidden"),t.removeClass("is-hidden")),e(window).width()>"768"&&(l=!1,a.text(Drupal.t("Show filters")),i.removeClass("is-hidden").removeClass("is-visible"),a.removeClass("open"),t.removeClass("open"),a.removeClass("is-visible"),t.removeClass("is-visible"),a.addClass("is-hidden"),t.addClass("is-hidden"),i.find(".block--facetapi").each(function(){i.find(".block__content").removeClass("is-hidden")})),n=!1)}var n=!0,l=!1;setInterval(function(){n=!0},33),e(window).resize(s),s()})})}};var o=function(e,i,a,t){var s=e.find(".facet-collapsible-wrapper").get(0);if(s){var n=s.id;if(n=n.replace("facet-collapsible-",""),n=n.replace(/-/g,"_"),Drupal.settings.facetapi_collapsible[n]){Drupal.settings.facetapi_collapsible[n][i]===a&&e[t]("expanded")}}};Drupal.behaviors.facetapiCollapsible={attach:function(){var i=0;e(".facet-collapsible-wrapper .facetapi-collapsible").once(function(){var a=e(this);e(".facetapi-active",this).size()>0?e(this).addClass("expanded active"):(o(a,"expand",1,"addClass"),e("h2",this).each(function(){e(this).click(function(){a.siblings(".facetapi-collapsible:not(.active)").each(function(){o(e(this),"keep_open",0,"removeClass")}),a.toggleClass("expanded")})}));var t=e.cookie("Facetapi.collapsible.expanded");t=e.parseJSON(t),t||(t={}),e(".facetapi-collapsible ul.facetapi-collapsible .item-list").once(function(){var i=e(this),a=i.closest(".facet-collapsible-wrapper");if(a){var s=a.attr("id");if(s=s.replace("facet-collapsible-",""),s=s.replace(/-/g,"_"),Drupal.settings.facetapi_collapsible[s]&&Drupal.settings.facetapi_collapsible[s].collapsible_children){var n=e(i.siblings(".facetapi-facet").get(0));e("a",n).each(function(){e(this).append('<span class="facetapi-collapsible-handle"></span>'),!t||!t[s]||t[s].indexOf(e(this).attr("href"))<0?e("ul",e(this).closest(".facetapi-facet").siblings(".item-list")).first().removeClass("expanded"):(e(this).closest(".block-facetapi.facetapi-collapsible").addClass("expanded"),e(".facetapi-collapsible-handle",this).addClass("expanded"))}).addClass("collapselink"),e("a.facetapi-active",e(this)).length&&e("ul",e(this).closest("div")).first().each(function(){e(this).addClass("expanded"),e("li.expanded .facetapi-collapsible-handle",this).addClass("expanded")}),e("a .facetapi-collapsible-handle",n).click(function(a){var l,o=e("ul",n.siblings(".item-list")).first(),c=e(this).closest("a");o.toggleClass("expanded"),t||(t={}),t[s]||(t[s]=[]),o.hasClass("expanded")?(e(this).addClass("expanded"),t[s].push(c.attr("href"))):(e(this).removeClass("expanded"),-1!==(l=t[s].indexOf(c.attr("href")))&&t[s].splice(l,1)),!1===Drupal.settings.facetapi_collapsible[s].keep_open&&e("ul",i.closest("li").siblings("li")).each(function(){e(this).removeClass("expanded"),e("a .facetapi-collapsible-handle",e(this).closest("li")).removeClass("expanded"),-1!==(l=t[s].indexOf(e("a",e(this).closest("li")).attr("href")))&&t[s].splice(l,1)}),e.cookie("Facetapi.collapsible.expanded",JSON.stringify(t),{path:Drupal.settings.basePath,expires:1}),a.preventDefault()})}}}),i+=1})}},Drupal.behaviors.befCollapsible={attach:function(i){e(".form-bef-checkboxes.block--facetapi",i).once("bef-collapsible",function(){var i=e(this);e(".facetapi-active",this).size()>0&&i.addClass("expanded active"),e(".facetapi-facet > a",i).on("click",function(i){if(i.preventDefault(),i.stopPropagation(),!e(i.target).is(".facetapi-collapsible-handle")){var a=e(this).find("input");a.is(":not(:checked)")?(a.attr("checked","checked"),e(this).parentsUntil("li",".facetapi-inactive").removeClass("facetapi-inactive").addClass("facetapi-active"),e(this).removeClass("facetapi-inactive").addClass("facetapi-active")):(a.removeAttr("checked"),e(this).parentsUntil("li",".facetapi-active").removeClass("facetapi-active").addClass("facetapi-inactive"),e(this).removeClass("facetapi-active").addClass("facetapi-inactive"))}}),e("a .facetapi-collapsible-handle",i).click(function(i){var a=e(this).closest("a"),t=a.parent().next();t.toggleClass("expanded"),t.hasClass("expanded")?e(this).addClass("expanded"):e(this).removeClass("expanded"),i.preventDefault()}),i.find(".item-list").once("bef-collapsible-list",function(){e("a.facetapi-active",e(this)).each(function(){e(this).parentsUntil(i,".item-list").each(function(){e(this).addClass("expanded"),e(this).prev().find(".facetapi-collapsible-handle").addClass("expanded")})})})})}}}(jQuery);